# TODO

## 기능

1. Todo 추가
2. Todo 삭제
3. Todo 완료


## Mobx 구현 방법
1. 일반 useState처럼 component props로 mobx store를 넘겨서 관리 (X)
2. context api를 이용해서 전역 관리
   - 제한적으로 store를 만들어서 사용할 수 있다.
3. store를 singleton instance로 관리 (X)
   - 휴먼 에러를 조심해야 한다.
   - 인스턴스로 만들어서 내리게 되면 prop drilling이 일어남.


## mobx를 사용하는 목적
1. 전역 상태 관리 - 해결방법: redux
2. prop drilling - 해결방법: context


## 회고 

### 라비
레이어별로 각자 역할을 분리하고 해당 역할에 대해서만 테스트 하는 연습이 많이 된 것 같다.

mobx를 사용하면서 라이브러리에 의존적이지 않은 비즈니스로직 코드를 작성해보려는 시도에 어려움을 겪었고 분리해보려던 시도가 무산된점은 아쉽다.

아직 테스트 코드 작성에 대한 숙련도가 떨어져서 그런지 생각보다 많은 리소스가 들어가고 있어서 실무에서라면 커버리지 100%를 고집하기보다는 적절한 지점을 찾아야겠다는 생각도 든다.

현재는 간단한 기능만 갖춘 TODO 앱에 대해서 테스트 코드와 일부 클린 아키텍처를 도입했는데 추후에 복잡도가 커지는 앱에 대해서도 해당 전략이 통할지 시도해보고싶다.

비즈니스 로직을 담당하는 presenter라는 레이어를 새로 분리해서 React 앱에 주입해주는 방식으로 서비스를 구현해보았다. presenter에는 service를 주입해서 외부 통신 로직 역시 내부적으로 처리하도록 했는데 아직 이 방법이 맞는지 확인이 가지는 presenter라는 이름과 주입방식에 대해서도 아직은 확신이 없어서 좀 더 고민해봐야 할 것 같다(presenter가 많아지면? context로 관리하는 방식은 적절한가? 등).


### 리온
기본적인 react 구조에서, 현재 랠릿에서 사용하는 구조로 점차 발전해 나가면서 그 중간에 테스트 코드를 작성하는 경험을 할 수 있어서 좋은 것 같다.
하지만 테스트 코드가 중간에 도입되면서, 기존에 일반적으로 개발할 때는 몰랐던 구조적 어려움이 상당히 많아서 고통스러웠다.

테스트코드를 짜기 쉬운 구조로 만든다는 것이 좋은 구조로 가는 첫걸음이라는 얘기를 들었는데, 그러면 테스트 코드 짜기는 쉽지만 개발이 쉽지 않은 구조가 생기는 것 같다. 이에 대해서는 점진적으로 발전시켜 나갸아 한다.

### 몰리
기본적인 함수에 관한 테스트만 작성하다보니 간단하게 테스트 통과가 이루어졌는데 
클래스를 사용하면서 부터 많은 시련과 고통을 느끼고 있다. 개인적인 생각이지만 
클래스를 사용함으로서 오히려 프론트엔드 구조의 복잡성을 늘리는게 아닌가라는 생각도 든다.
아직은 명확하게 누군가에게 클래스를 왜 사용하는지에 대해서 설명할 자신이 없기 때문이기도 하다.

그리고 프론트엔드 구조에서의 각 역할에 대해서 나누는 작업을 하고 있는데 이게 생각보다 쉽지가 않다. 
라이브러리 자체의 문제도 있어서 도메인 로직을 온전히 빼내는게 쉽지가 않은 것 같다. 현재 아샬님의 코드를 보면
도메인 로직을 간단하게 function.js로 빼내고 있는데 이렇게 빼게 되면 온전히 도메인 로직을 쉽게 빼낼 순 있다.
class를 사용해서 비지니스로직을 빼야 되는 것에 대한 이유에 대해서 생각해봐야겠다. 
그리고 각 파일에 대한 역할들이 팀원들마다 다른 것 같다. 이 부분을 팀원들과 의논해서 명확히 잡아야 될 것 같다.

비지니스로직을 어떻게 분리시킬까를 고민하다가 MVP패턴에서 presenter 역할을 수행하는 곳에 작성을 해주었다. 이렇게 분리를 해주니 service또한 presenter로 주입해서 사용되어진다. 확실히 시도를 직접해보면서 느껴지는 것들이 많았고 todo-app 구조에서 많은걸 실험하고 경험해보면 좋을 것 같다.

## 생각해봐야 될 것 들
클래스들을 사용하는 컨테이너 컴포넌트에서 인스턴스화 시키는것 좋지 못하다.
테스트 하기가 어렵기도하고 컨테이너 컴포넌트에서 해당 인스턴스가 어디서 만들어졌는지 알 필요가 없기 때문이다.
왜 알 필요가 없는가 ? 컨테이너 컴포넌트는 그저 상태를 관리하는 아이다.
그래서 의존성 주입을 사용해서 넣어주는 형식이 좋을 것 같다. 각페이지별로 index.js를 만들고 거기서 인스턴스를 만들어서 내려주자.
계속 내리기가 힘들다면 context를 사용하면 어떨까? context를 쓰게되면 mobx와 꿍짝도 잘 맞을 것 같다.